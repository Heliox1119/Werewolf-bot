/**
 * Web Interface â€” Client-side i18n (FR / EN)
 * Uses data-i18n attributes and localStorage for persistence.
 */
(function() {
  'use strict';

  const translations = {
    fr: {
      // Nav
      'nav.dashboard': 'Tableau de bord',
      'nav.roles': 'RÃ´les',
      'nav.moderation': 'ModÃ©ration',
      'nav.monitoring': 'Monitoring',
      'nav.docs': 'Documentation',
      'nav.premium': 'Premium',
      'nav.status': 'Statut',
      'nav.support': 'Support',
      'nav.faq': 'FAQ',
      'nav.logout': 'DÃ©connexion',
      'nav.login': 'Connexion',
      'nav.language': 'Langue',

      // Guild Panel
      'guild.overview': 'Vue d\'ensemble',
      'guild.leaderboard': 'Classement',
      'guild.history': 'Historique',
      'guild.admin_section': 'Administration',
      'guild.rules': 'RÃ¨gles du jeu',

      // Dashboard
      'dash.title': 'Werewolf Dashboard',
      'dash.subtitle': 'Surveillance temps rÃ©el de toutes les parties sur vos serveurs',
      'dash.active_games': 'Parties actives',
      'dash.active_players': 'Joueurs en jeu',
      'dash.servers': 'Serveurs',
      'dash.total_games': 'Total parties',
      'dash.live_games': 'Parties en direct',
      'dash.no_games': 'Aucune partie en cours',
      'dash.no_games_hint': 'Les parties apparaÃ®tront ici en temps rÃ©el',
      'dash.watch_live': 'ðŸ‘ Regarder en direct',
      'dash.recent_activity': 'ActivitÃ© rÃ©cente',
      'dash.waiting': 'En attente d\'Ã©vÃ©nements...',
      'dash.quick_access': 'âš¡ AccÃ¨s rapide',

      // Monitoring
      'mon.title': 'ðŸ“Š Monitoring',
      'mon.subtitle': 'Surveillance en temps rÃ©el du bot â€” MÃ©triques systÃ¨me, Discord et jeu',
      'mon.health': 'SantÃ©',
      'mon.uptime': 'Uptime',
      'mon.memory': 'MÃ©moire (RSS)',
      'mon.latency': 'Latence Discord',
      'mon.system': 'ðŸ–¥ SystÃ¨me',
      'mon.cpu': 'CPU',
      'mon.heap': 'Heap V8',
      'mon.ram_free': 'RAM libre',
      'mon.ram_total': 'RAM totale',
      'mon.process_uptime': 'Uptime process',
      'mon.discord': 'ðŸ¤– Discord',
      'mon.guilds': 'Serveurs',
      'mon.users_cached': 'Utilisateurs (cache)',
      'mon.channels': 'Channels',
      'mon.ws_status': 'Statut WebSocket',
      'mon.ws_latency': 'Latence WS',
      'mon.game': 'ðŸŽ® Jeu',
      'mon.active_games': 'Parties actives',
      'mon.total_players': 'Joueurs en jeu',
      'mon.games_24h': 'Parties crÃ©Ã©es (24h)',
      'mon.completed_24h': 'Parties terminÃ©es (24h)',
      'mon.commands': 'âš¡ Commandes',
      'mon.cmd_total': 'Total exÃ©cutÃ©es',
      'mon.cmd_errors': 'Erreurs',
      'mon.cmd_ratelimited': 'Rate limited',
      'mon.cmd_avg': 'Temps moyen',
      'mon.errors': 'âš  Erreurs',
      'mon.err_total': 'Total',
      'mon.err_critical': 'Critiques',
      'mon.err_warnings': 'Avertissements',
      'mon.err_24h': 'DerniÃ¨res 24h',
      'mon.history': 'ðŸ“ˆ Historique (24h)',
      'mon.auto_refresh': 'Actualisation auto toutes les 30s',
      'mon.refresh': 'Actualiser',
      'mon.connecting': 'Connexion...',

      // Moderation
      'mod.title': 'ðŸ›¡ ModÃ©ration',
      'mod.subtitle': 'GÃ©rer les parties actives â€” voir les rÃ´les, contrÃ´ler les phases, modÃ©rer les joueurs',
      'mod.no_games': 'Aucune partie active sur vos serveurs',
      'mod.no_games_hint': 'Les parties que vous pouvez modÃ©rer apparaÃ®tront ici en temps rÃ©el',
      'mod.skip_phase': 'â© Skip Phase',
      'mod.force_end': 'â¹ Forcer la fin',
      'mod.players': 'ðŸ‘¥ Joueurs',
      'mod.log': 'ðŸ“œ Journal',
      'mod.game_info': 'âš™ Infos partie',
      'mod.alive': 'vivants',

      // Footer
      'footer.connected': 'ConnectÃ©',
      'footer.disconnected': 'DÃ©connectÃ©',

      // Roles Page
      'roles.title': 'RÃ´les',
      'roles.subtitle': 'Tous les rÃ´les du jeu â€” intÃ©grÃ©s et personnalisÃ©s',
      'roles.builtin': 'RÃ´les intÃ©grÃ©s',
      'roles.custom': 'RÃ´les personnalisÃ©s',
      'roles.no_custom': 'Aucun rÃ´le personnalisÃ© crÃ©Ã©',
      'roles.create_hint': 'Utilisez le formulaire ci-dessous pour en crÃ©er un',
      'roles.login_hint': 'Connectez-vous en tant qu\'administrateur pour crÃ©er des rÃ´les',
      'roles.create_title': 'CrÃ©er un rÃ´le personnalisÃ©',
      'roles.form_name': 'Nom',
      'roles.form_name_ph': 'ex. Forgeron',
      'roles.form_emoji': 'Emoji',
      'roles.form_camp': 'Camp',
      'roles.form_power': 'Pouvoir',
      'roles.form_desc': 'Description',
      'roles.form_desc_ph': 'DÃ©crivez les capacitÃ©s du rÃ´le...',
      'roles.form_guild': 'ID du serveur',
      'roles.form_guild_ph': 'ID du serveur',
      'roles.create_btn': 'CrÃ©er le rÃ´le',
      'roles.power_none': 'Aucun (Passif)',
      'roles.power_see': 'Voir (comme Voyante)',
      'roles.power_protect': 'ProtÃ©ger (comme Salvateur)',
      'roles.power_kill': 'Tuer (comme Chasseur)',
      'roles.power_heal': 'Soigner (comme SorciÃ¨re)',
      'roles.power_custom': 'PersonnalisÃ©',
      // Role names
      'role.name.WEREWOLF': 'Loup-Garou',
      'role.name.SEER': 'Voyante',
      'role.name.WITCH': 'SorciÃ¨re',
      'role.name.HUNTER': 'Chasseur',
      'role.name.CUPID': 'Cupidon',
      'role.name.PETITE_FILLE': 'Petite Fille',
      'role.name.VILLAGER': 'Villageois',
      'role.name.IDIOT': 'Idiot du Village',
      'role.name.SALVATEUR': 'Salvateur',
      'role.name.ANCIEN': 'Ancien',
      'role.name.WHITE_WOLF': 'Loup Blanc',
      'role.name.THIEF': 'Voleur',
      // Role camps
      'role.camp.wolves': 'Loups',
      'role.camp.village': 'Village',
      'role.camp.solo': 'Solo',
      // Role descriptions
      'role.desc.WEREWOLF': 'Chaque nuit, les loups-garous se rÃ©unissent pour dÃ©vorer un villageois.',
      'role.desc.SEER': 'Chaque nuit, la voyante peut dÃ©couvrir le rÃ´le d\'un joueur.',
      'role.desc.WITCH': 'PossÃ¨de une potion de vie et une potion de mort, utilisable une fois chacune.',
      'role.desc.HUNTER': 'En mourant, le chasseur peut emporter un autre joueur avec lui.',
      'role.desc.CUPID': 'DÃ©signe deux amoureux au dÃ©but de la partie. Si l\'un meurt, l\'autre aussi.',
      'role.desc.PETITE_FILLE': 'Peut espionner les loups-garous pendant la nuit, au risque de se faire repÃ©rer.',
      'role.desc.VILLAGER': 'Un simple villageois sans pouvoir spÃ©cial. Il doit dÃ©masquer les loups.',
      'role.desc.IDIOT': 'S\'il est votÃ© par le village, il est rÃ©vÃ©lÃ© mais perd son droit de vote.',
      'role.desc.SALVATEUR': 'Chaque nuit, il protÃ¨ge un joueur de l\'attaque des loups-garous.',
      'role.desc.ANCIEN': 'RÃ©siste Ã  la premiÃ¨re attaque des loups-garous grÃ¢ce Ã  sa robustesse.',
      'role.desc.WHITE_WOLF': 'Joue en solitaire. Chasse avec la meute mais peut dÃ©vorer un loup une nuit sur deux. Gagne s\'il est le dernier.',
      'role.desc.THIEF': 'DÃ©couvre 2 cartes au dÃ©but et peut Ã©changer son rÃ´le. Si les deux sont des loups, il doit en prendre une.',

      // Documentation Page
      'docs.title': 'ðŸ“š Werewolf Bot â€” Wiki complet',
      'docs.subtitle': 'Tout ce que vous devez savoir pour jouer, configurer et maÃ®triser le Loup-Garou sur Discord.',
      'docs.nav_getting_started': 'POUR COMMENCER',
      'docs.nav_roles': 'RÃ”LES',
      'docs.nav_gameplay': 'JEU',
      'docs.nav_commands': 'COMMANDES',
      'docs.nav_progression': 'PROGRESSION',
      'docs.nav_config': 'CONFIGURATION',
      'docs.overview': 'AperÃ§u',
      'docs.game_flow': 'DÃ©roulement',
      'docs.setup': 'Installation',
      'docs.village_roles': 'Village',
      'docs.wolf_roles': 'Loups',
      'docs.solo_roles': 'Solo',
      'docs.distribution': 'Distribution',
      'docs.phases': 'Phases',
      'docs.night_actions': 'Actions Nuit',
      'docs.day_actions': 'Actions Jour',
      'docs.special_mechanics': 'MÃ©caniques spÃ©ciales',
      'docs.victory': 'Victoire',
      'docs.player_commands': 'Joueur',
      'docs.night_commands': 'Nuit',
      'docs.day_commands': 'Jour',
      'docs.admin_commands': 'Admin',
      'docs.achievements': 'SuccÃ¨s',
      'docs.elo': 'ELO & Tiers',
      'docs.rules': 'RÃ¨gles',
      'docs.timeouts': 'DÃ©lais',
      'docs.overview_title': 'AperÃ§u',
      'docs.overview_text': 'Werewolf Bot est une implÃ©mentation complÃ¨te du jeu de sociÃ©tÃ© Loup-Garou sur Discord. Les joueurs reÃ§oivent secrÃ¨tement des rÃ´les â€” certains sont des villageois cherchant Ã  survivre, d\'autres sont des loups-garous chassant la nuit. Le jour, le village dÃ©bat et vote pour Ã©liminer les suspects. Le jeu alterne entre phases de nuit et de jour jusqu\'Ã  la victoire d\'un camp.',
      'docs.key_features': 'FonctionnalitÃ©s clÃ©s',
      'docs.feature_1': '12 rÃ´les uniques rÃ©partis en 3 camps (Village, Loups, Solo)',
      'docs.feature_2': 'Gestion automatique des salons vocaux (mute/unmute par phase)',
      'docs.feature_3': 'Channels privÃ©s pour les loups, voyante, sorciÃ¨re et autres rÃ´les',
      'docs.feature_4': 'Ã‰lection du capitaine et mÃ©caniques de mort spÃ©ciales',
      'docs.feature_5': 'SystÃ¨me amoureux avec Cupidon',
      'docs.feature_6': 'Classement ELO, succÃ¨s et systÃ¨me de progression',
      'docs.feature_7': 'RÃ¨gles configurables par serveur',
      'docs.feature_8': 'Dashboard web temps rÃ©el avec mode spectateur',
      'docs.feature_9': 'Support multilingue (FR / EN)',
      'docs.game_flow_title': 'DÃ©roulement du jeu',
      'docs.flow_setup': 'Configuration',
      'docs.flow_create': 'CrÃ©ation & Rejoindre',
      'docs.flow_roles': 'Attribution des rÃ´les',
      'docs.flow_channels': 'CrÃ©ation des channels',
      'docs.flow_night': 'Phase de Nuit',
      'docs.flow_day': 'Phase de Jour',
      'docs.flow_victory': 'Victoire',
      'docs.flow_details': 'DÃ©roulement dÃ©taillÃ©',
      'docs.flow_d1': 'Un admin lance /setup pour configurer le bot sur le serveur',
      'docs.flow_d2': 'Un joueur utilise /create. Les autres rejoignent avec /join (minimum 4 joueurs)',
      'docs.flow_d3': 'L\'hÃ´te lance /start â€” les rÃ´les sont assignÃ©s secrÃ¨tement via DM',
      'docs.flow_d4': 'Des channels privÃ©s sont crÃ©Ã©s pour les loups, la voyante, la sorciÃ¨re, etc.',
      'docs.flow_d5': 'Phase nuit : les rÃ´les spÃ©ciaux agissent dans l\'ordre (Voleur â†’ Cupidon â†’ Salvateur â†’ Loups â†’ Loup Blanc â†’ SorciÃ¨re â†’ Voyante)',
      'docs.flow_d6': 'Phase jour : annonce des morts, vote capitaine (si besoin), dÃ©libÃ©ration, puis vote du village',
      'docs.flow_d7': 'Le cycle se rÃ©pÃ¨te jusqu\'Ã  une condition de victoire',
      'docs.setup_title': 'Installation initiale',
      'docs.setup_steps': 'Ã‰tapes d\'installation',
      'docs.setup_1': 'Invitez le bot sur votre serveur avec les permissions admin',
      'docs.setup_2': 'Lancez /setup â€” un assistant interactif dÃ©marre',
      'docs.setup_3': 'L\'assistant crÃ©e : une catÃ©gorie de jeu, un salon texte principal et un salon vocal',
      'docs.setup_4': 'Configurez optionnellement les rÃ¨gles avec /setrules',
      'docs.setup_5': 'Choisissez une langue avec /lang fr ou /lang en',
      'docs.setup_6': 'Les joueurs peuvent maintenant /create des parties !',
      'docs.village_title': 'RÃ´les du Village',
      'docs.wolves_title': 'RÃ´les des Loups',
      'docs.solo_title': 'RÃ´les Solo / SpÃ©ciaux',
      'docs.distribution_title': 'Distribution des rÃ´les',
      'docs.dist_rules': 'RÃ¨gles de distribution',
      'docs.dist_1': 'Minimum 4 joueurs pour lancer une partie',
      'docs.dist_2': 'Nombre de loups : ~â…“ des joueurs (1 pour 4-5, 2 pour 6-8, 3 pour 9-11, 4 pour 12+)',
      'docs.dist_3': 'RÃ´les spÃ©ciaux ajoutÃ©s par prioritÃ© : Voyante â†’ SorciÃ¨re â†’ Chasseur â†’ Cupidon â†’ Salvateur â†’ Petite Fille â†’ Ancien â†’ Idiot',
      'docs.dist_4': 'Les places restantes sont remplies de Villageois',
      'docs.dist_5': 'Le Loup Blanc remplace un loup normal si activÃ© et 8+ joueurs',
      'docs.dist_6': 'Le Voleur nÃ©cessite 2 cartes supplÃ©mentaires',
      'docs.dist_7': 'Configurable : les admins peuvent activer/dÃ©sactiver des rÃ´les via /setrules',
      'docs.phases_title': 'Phases de jeu',
      'docs.night_phase': 'Phase de Nuit',
      'docs.night_desc': 'La nuit, le village dort (tous mute vocal). Les rÃ´les spÃ©ciaux agissent dans un ordre strict via leurs channels privÃ©s.',
      'docs.day_phase': 'Phase de Jour',
      'docs.day_desc': 'Ã€ l\'aube, les morts de la nuit sont annoncÃ©es. Le village dÃ©bat et vote ensuite.',
      'docs.transitions': 'Transitions de phase',
      'docs.night_to_day': 'ðŸŒ… Nuit â†’ Jour',
      'docs.day_to_night': 'ðŸŒ™ Jour â†’ Nuit',
      'docs.night_actions_title': 'Actions de Nuit',
      'docs.day_actions_title': 'Actions de Jour',
      'docs.afk_warning': 'Avertissement AFK',
      'docs.afk_text': 'Les joueurs qui n\'agissent pas dans les 120 secondes pendant leur phase de nuit verront leur action auto-skip.',
      'docs.captain_info': 'MÃ©canique du Capitaine',
      'docs.captain_1': 'Le capitaine est Ã©lu le premier jour via /captainvote',
      'docs.captain_2': 'Le vote du capitaine compte double',
      'docs.captain_3': 'Si le capitaine meurt, il choisit un successeur',
      'docs.captain_4': 'En cas d\'Ã©galitÃ©, le capitaine tranche',
      'docs.mechanics_title': 'MÃ©caniques spÃ©ciales',
      'docs.mech_lovers': 'SystÃ¨me Amoureux',
      'docs.mech_wolf_vote': 'Vote Consensus des Loups',
      'docs.mech_elder': 'Drain de l\'Ancien',
      'docs.mech_voice': 'Gestion Vocale',
      'docs.mech_death': 'Mort & RÃ©vÃ©lation',
      'docs.victory_title': 'Conditions de Victoire',
      'docs.win_village': 'Victoire du Village',
      'docs.win_village_desc': 'Tous les loups-garous ont Ã©tÃ© Ã©liminÃ©s. Le village cÃ©lÃ¨bre !',
      'docs.win_wolves': 'Victoire des Loups',
      'docs.win_wolves_desc': 'Les loups Ã©galent ou surpassent les villageois restants. La meute a pris le contrÃ´le !',
      'docs.win_white_wolf': 'Victoire du Loup Blanc',
      'docs.win_white_wolf_desc': 'Le Loup Blanc est l\'ultime dernier joueur debout.',
      'docs.win_lovers': 'Victoire des Amoureux',
      'docs.win_lovers_desc': 'Les deux amoureux (de camps diffÃ©rents) sont les derniers debout. L\'amour triomphe !',
      'docs.win_draw': 'Ã‰galitÃ©',
      'docs.win_draw_desc': 'Plus aucun joueur ne reste, ou la partie ne peut continuer.',
      'docs.cmd_player_title': 'Commandes Joueur',
      'docs.cmd_night_title': 'Commandes de Nuit',
      'docs.cmd_day_title': 'Commandes de Jour',
      'docs.cmd_admin_title': 'Commandes Admin',
      'docs.achievements_title': 'SuccÃ¨s',
      'docs.elo_title': 'Classement ELO & Tiers',
      'docs.elo_desc': 'Chaque joueur commence Ã  1000 ELO. Gagner augmente votre score, perdre le diminue. Votre tier est dÃ©terminÃ© par votre fourchette d\'ELO.',
      'docs.rules_title': 'RÃ¨gles configurables',
      'docs.timeouts_title': 'DÃ©lais & Minuteries',
      'docs.th_players': 'Joueurs',
      'docs.th_wolves': 'Loups',
      'docs.th_specials': 'RÃ´les spÃ©ciaux',
      'docs.th_villagers': 'Villageois',
      'docs.th_role': 'RÃ´le',
      'docs.th_command': 'Commande',
      'docs.th_action': 'Action',
      'docs.th_timing': 'Quand',
      'docs.th_description': 'Description',
      'docs.th_permission': 'Permission',
      'docs.th_rule': 'RÃ¨gle',
      'docs.th_default': 'Par dÃ©faut',
      'docs.th_event': 'Ã‰vÃ©nement',
      'docs.th_duration': 'DurÃ©e',
      'docs.when_n1': 'Nuit 1 uniquement',
      'docs.when_every': 'Chaque nuit',
      'docs.when_odd': 'Nuits impaires (3, 5, 7...)',

      // Premium Page
      'premium.title': 'Werewolf Premium',
      'premium.subtitle': 'DÃ©bloquez des fonctionnalitÃ©s exclusives et amÃ©liorez votre expÃ©rience. BientÃ´t disponible !',
      'premium.feature_themes': 'ThÃ¨mes personnalisÃ©s',
      'premium.feature_themes_desc': 'AccÃ©dez Ã  des thÃ¨mes exclusifs et des couleurs d\'embed personnalisÃ©es.',
      'premium.feature_roles': 'RÃ´les exclusifs',
      'premium.feature_roles_desc': 'DÃ©bloquez des rÃ´les premium comme le Renard, le Forgeron et plus.',
      'premium.feature_stats': 'Stats avancÃ©es',
      'premium.feature_stats_desc': 'Analyses dÃ©taillÃ©es, classements avancÃ©s et graphiques d\'historique.',
      'premium.feature_priority': 'Support prioritaire',
      'premium.feature_priority_desc': 'AccÃ¨s prioritaire Ã  l\'aide, corrections de bugs et demandes de fonctionnalitÃ©s.',
      'premium.feature_sounds': 'Effets sonores',
      'premium.feature_sounds_desc': 'Sons personnalisÃ©s pour les transitions, les morts et les victoires.',
      'premium.feature_badges': 'Badge Premium',
      'premium.feature_badges_desc': 'Affichez votre statut premium avec un badge exclusif.',
      'premium.coming_soon': 'BientÃ´t disponible',
      'premium.coming_soon_desc': 'Les fonctionnalitÃ©s premium sont en cours de dÃ©veloppement. Restez Ã  l\'Ã©coute !',

      // Support Page
      'support.title': 'ðŸ†˜ Support & Ressources',
      'support.subtitle': 'Besoin d\'aide ? Trouvez toutes les ressources pour dÃ©marrer ou rÃ©soudre des problÃ¨mes.',
      'support.github_desc': 'Consultez le code source, signalez des bugs, demandez des fonctionnalitÃ©s et contribuez.',
      'support.github_btn': 'Voir le dÃ©pÃ´t â†’',
      'support.discord_desc': 'Rejoignez notre serveur communautaire pour de l\'aide en direct et des discussions.',
      'support.discord_btn': 'Rejoindre â†’',
      'support.docs_title': 'Documentation',
      'support.docs_desc': 'Wiki complet avec tous les rÃ´les, commandes, mÃ©caniques et options de configuration.',
      'support.docs_btn': 'Lire le Wiki â†’',
      'support.faq_title': 'Questions frÃ©quentes',
      'support.faq_q1': 'Comment inviter le bot sur mon serveur ?',
      'support.faq_a1': 'Utilisez le lien d\'invitation depuis le dÃ©pÃ´t GitHub. Le bot a besoin des permissions Administrateur.',
      'support.faq_q2': 'Quel est le nombre minimum de joueurs ?',
      'support.faq_a2': 'Il faut au moins 4 joueurs. Pour la meilleure expÃ©rience avec tous les rÃ´les, 8-12 joueurs est recommandÃ©.',
      'support.faq_q3': 'Comment changer la langue ?',
      'support.faq_a3': 'Utilisez /lang suivi de "fr" pour franÃ§ais ou "en" pour anglais.',
      'support.faq_q4': 'Puis-je personnaliser les rÃ´les en jeu ?',
      'support.faq_a4': 'Oui ! Utilisez /setrules pour activer ou dÃ©sactiver des rÃ´les spÃ©cifiques.',
      'support.faq_q5': 'Pourquoi mes joueurs ne sont pas mute/unmute ?',
      'support.faq_a5': 'VÃ©rifiez que le bot a la permission "Rendre muet les membres". Les joueurs doivent aussi Ãªtre dans le salon vocal.',
      'support.faq_q6': 'Le jeu est bloquÃ©, que faire ?',
      'support.faq_a6': 'Un admin peut utiliser /nextphase pour avancer, ou /force-end pour terminer. /clear nettoie les channels.',
      'support.faq_q7': 'Comment fonctionne le systÃ¨me ELO ?',
      'support.faq_a7': 'Chaque joueur commence Ã  1000 ELO. Gagner augmente le score et perdre le diminue. Utilisez /stats pour vÃ©rifier.',

      // Invite page
      'invite.title': 'Ajouter Werewolf Bot',
      'invite.subtitle': 'Le bot n\'est pas encore sur',
      'invite.card_title': 'Inviter Werewolf Bot',
      'invite.card_desc': 'Ajoutez le bot Ã  votre serveur pour commencer Ã  jouer au Loup-Garou avec votre communautÃ©. Le bot inclut les commandes slash, la gestion des rÃ´les, le mute vocal et une expÃ©rience de jeu complÃ¨te.',
      'invite.feature_game': 'Jeu de Loup-Garou complet',
      'invite.feature_roles': '12+ rÃ´les uniques',
      'invite.feature_voice': 'Gestion du vocal',
      'invite.feature_stats': 'Stats, ELO & succÃ¨s',
      'invite.feature_lang': 'FranÃ§ais & anglais',
      'invite.feature_dashboard': 'Dashboard web inclus',
      'invite.btn_invite': 'Ajouter au serveur',
      'invite.perms_title': 'Permissions requises',
      'invite.perm_commands': 'Commandes slash',
      'invite.perm_commands_desc': 'Enregistrer et rÃ©pondre aux commandes /',
      'invite.perm_messages': 'Envoyer des messages',
      'invite.perm_messages_desc': 'Envoyer les annonces et mises Ã  jour du jeu',
      'invite.perm_manage_channels': 'GÃ©rer les salons',
      'invite.perm_manage_channels_desc': 'CrÃ©er et gÃ©rer les salons de jeu',
      'invite.perm_voice': 'Rendre muet les membres',
      'invite.perm_voice_desc': 'GÃ©rer le vocal pendant les phases de nuit',
      'invite.perm_embed': 'IntÃ©grer des liens',
      'invite.perm_embed_desc': 'Embeds enrichis pour l\'interface de jeu',
      'invite.perm_dm': 'Messages directs',
      'invite.perm_dm_desc': 'Envoyer les attributions de rÃ´le en privÃ©',
      'invite.back': 'Retour au Dashboard',

      // Monitoring access
      'mon.login_required': 'Connectez-vous pour voir plus de dÃ©tails',
      'mon.login_desc': 'Les mÃ©triques dÃ©taillÃ©es sont rÃ©servÃ©es aux membres connectÃ©s et administrateurs.',
      'mon.restricted_notice': 'Certaines mÃ©triques avancÃ©es sont rÃ©servÃ©es aux administrateurs du bot.',
    },
    en: {
      // Nav
      'nav.dashboard': 'Dashboard',
      'nav.roles': 'Roles',
      'nav.moderation': 'Moderation',
      'nav.monitoring': 'Monitoring',
      'nav.docs': 'Documentation',
      'nav.premium': 'Premium',
      'nav.status': 'Status',
      'nav.support': 'Support',
      'nav.faq': 'FAQ',
      'nav.logout': 'Logout',
      'nav.login': 'Login',
      'nav.language': 'Language',

      // Guild Panel
      'guild.overview': 'Overview',
      'guild.leaderboard': 'Leaderboard',
      'guild.history': 'History',
      'guild.admin_section': 'Administration',
      'guild.rules': 'Game Rules',

      // Dashboard
      'dash.title': 'Werewolf Dashboard',
      'dash.subtitle': 'Real-time monitoring of all games on your servers',
      'dash.active_games': 'Active games',
      'dash.active_players': 'Players in game',
      'dash.servers': 'Servers',
      'dash.total_games': 'Total games',
      'dash.live_games': 'Live games',
      'dash.no_games': 'No active games',
      'dash.no_games_hint': 'Games will appear here in real-time',
      'dash.watch_live': 'ðŸ‘ Watch live',
      'dash.recent_activity': 'Recent activity',
      'dash.waiting': 'Waiting for events...',
      'dash.quick_access': 'âš¡ Quick access',

      // Monitoring
      'mon.title': 'ðŸ“Š Monitoring',
      'mon.subtitle': 'Real-time bot monitoring â€” System, Discord and game metrics',
      'mon.health': 'Health',
      'mon.uptime': 'Uptime',
      'mon.memory': 'Memory (RSS)',
      'mon.latency': 'Discord Latency',
      'mon.system': 'ðŸ–¥ System',
      'mon.cpu': 'CPU',
      'mon.heap': 'V8 Heap',
      'mon.ram_free': 'Free RAM',
      'mon.ram_total': 'Total RAM',
      'mon.process_uptime': 'Process uptime',
      'mon.discord': 'ðŸ¤– Discord',
      'mon.guilds': 'Guilds',
      'mon.users_cached': 'Users (cached)',
      'mon.channels': 'Channels',
      'mon.ws_status': 'WebSocket status',
      'mon.ws_latency': 'WS Latency',
      'mon.game': 'ðŸŽ® Game',
      'mon.active_games': 'Active games',
      'mon.total_players': 'Players in game',
      'mon.games_24h': 'Games created (24h)',
      'mon.completed_24h': 'Games completed (24h)',
      'mon.commands': 'âš¡ Commands',
      'mon.cmd_total': 'Total executed',
      'mon.cmd_errors': 'Errors',
      'mon.cmd_ratelimited': 'Rate limited',
      'mon.cmd_avg': 'Avg response',
      'mon.errors': 'âš  Errors',
      'mon.err_total': 'Total',
      'mon.err_critical': 'Critical',
      'mon.err_warnings': 'Warnings',
      'mon.err_24h': 'Last 24h',
      'mon.history': 'ðŸ“ˆ History (24h)',
      'mon.auto_refresh': 'Auto-refresh every 30s',
      'mon.refresh': 'Refresh',
      'mon.connecting': 'Connecting...',

      // Moderation
      'mod.title': 'ðŸ›¡ Moderation',
      'mod.subtitle': 'Manage active games â€” view roles, control phases, moderate players',
      'mod.no_games': 'No active games on your servers',
      'mod.no_games_hint': 'Games you can moderate will appear here in real-time',
      'mod.skip_phase': 'â© Skip Phase',
      'mod.force_end': 'â¹ Force End',
      'mod.players': 'ðŸ‘¥ Players',
      'mod.log': 'ðŸ“œ Log',
      'mod.game_info': 'âš™ Game info',
      'mod.alive': 'alive',

      // Footer
      'footer.connected': 'Connected',
      'footer.disconnected': 'Disconnected',

      // Roles Page
      'roles.title': 'Roles',
      'roles.subtitle': 'All game roles â€” built-in and custom',
      'roles.builtin': 'Built-in Roles',
      'roles.custom': 'Custom Roles',
      'roles.no_custom': 'No custom roles created yet',
      'roles.create_hint': 'Use the form below to create one',
      'roles.login_hint': 'Login as a server admin to create custom roles',
      'roles.create_title': 'Create Custom Role',
      'roles.form_name': 'Name',
      'roles.form_name_ph': 'e.g. Blacksmith',
      'roles.form_emoji': 'Emoji',
      'roles.form_camp': 'Camp',
      'roles.form_power': 'Power',
      'roles.form_desc': 'Description',
      'roles.form_desc_ph': 'Describe the role\'s abilities...',
      'roles.form_guild': 'Guild ID',
      'roles.form_guild_ph': 'Server ID',
      'roles.create_btn': 'Create Role',
      'roles.power_none': 'None (Passive)',
      'roles.power_see': 'See (like Seer)',
      'roles.power_protect': 'Protect (like Guard)',
      'roles.power_kill': 'Kill (like Hunter)',
      'roles.power_heal': 'Heal (like Witch)',
      'roles.power_custom': 'Custom',
      // Role names
      'role.name.WEREWOLF': 'Werewolf',
      'role.name.SEER': 'Seer',
      'role.name.WITCH': 'Witch',
      'role.name.HUNTER': 'Hunter',
      'role.name.CUPID': 'Cupid',
      'role.name.PETITE_FILLE': 'Little Girl',
      'role.name.VILLAGER': 'Villager',
      'role.name.IDIOT': 'Village Idiot',
      'role.name.SALVATEUR': 'Guardian',
      'role.name.ANCIEN': 'Elder',
      'role.name.WHITE_WOLF': 'White Wolf',
      'role.name.THIEF': 'Thief',
      // Role camps
      'role.camp.wolves': 'Wolves',
      'role.camp.village': 'Village',
      'role.camp.solo': 'Solo',
      // Role descriptions
      'role.desc.WEREWOLF': 'Each night, the werewolves gather to devour a villager.',
      'role.desc.SEER': 'Each night, the seer can discover a player\'s role.',
      'role.desc.WITCH': 'Has a life potion and a death potion, each usable once.',
      'role.desc.HUNTER': 'When dying, the hunter can take another player down.',
      'role.desc.CUPID': 'Chooses two lovers at the start. If one dies, so does the other.',
      'role.desc.PETITE_FILLE': 'Can spy on the werewolves at night, at the risk of being caught.',
      'role.desc.VILLAGER': 'A simple villager with no special power. Must unmask the wolves.',
      'role.desc.IDIOT': 'If voted out by the village, he is revealed but loses his voting rights.',
      'role.desc.SALVATEUR': 'Each night, protects a player from the werewolves\' attack.',
      'role.desc.ANCIEN': 'Survives the first werewolf attack thanks to his resilience.',
      'role.desc.WHITE_WOLF': 'Plays solo. Hunts with the pack but can devour a wolf every other night. Wins if last standing.',
      'role.desc.THIEF': 'Discovers 2 cards at the start and can swap his role. If both are wolves, he must take one.',

      // Documentation Page
      'docs.title': 'ðŸ“š Werewolf Bot â€” Complete Wiki',
      'docs.subtitle': 'Everything you need to know about playing, configuring and mastering Werewolf on Discord.',
      'docs.nav_getting_started': 'GETTING STARTED',
      'docs.nav_roles': 'ROLES',
      'docs.nav_gameplay': 'GAMEPLAY',
      'docs.nav_commands': 'COMMANDS',
      'docs.nav_progression': 'PROGRESSION',
      'docs.nav_config': 'CONFIGURATION',
      'docs.overview': 'Overview',
      'docs.game_flow': 'Game Flow',
      'docs.setup': 'Setup',
      'docs.village_roles': 'Village',
      'docs.wolf_roles': 'Wolves',
      'docs.solo_roles': 'Solo',
      'docs.distribution': 'Distribution',
      'docs.phases': 'Phases',
      'docs.night_actions': 'Night Actions',
      'docs.day_actions': 'Day Actions',
      'docs.special_mechanics': 'Special Mechanics',
      'docs.victory': 'Victory',
      'docs.player_commands': 'Player',
      'docs.night_commands': 'Night',
      'docs.day_commands': 'Day',
      'docs.admin_commands': 'Admin',
      'docs.achievements': 'Achievements',
      'docs.elo': 'ELO & Tiers',
      'docs.rules': 'Rules',
      'docs.timeouts': 'Timeouts',
      'docs.overview_title': 'Overview',
      'docs.overview_text': 'Werewolf Bot is a complete Discord implementation of the classic Werewolf (Mafia) party game. Players are secretly assigned roles â€” some are villagers trying to survive, others are werewolves hunting at night. By day, the village debates and votes to eliminate suspected wolves. The game alternates between night and day until a side wins.',
      'docs.key_features': 'Key Features',
      'docs.feature_1': '12 unique roles across 3 camps (Village, Wolves, Solo)',
      'docs.feature_2': 'Automatic voice channel management (muting/unmuting per phase)',
      'docs.feature_3': 'Private channels for wolves, seer, witch, and other special roles',
      'docs.feature_4': 'Captain election and special death mechanics',
      'docs.feature_5': 'Lover system with Cupid for romantic entanglements',
      'docs.feature_6': 'ELO ranking, achievements, and progression system',
      'docs.feature_7': 'Fully configurable rules per server',
      'docs.feature_8': 'Real-time web dashboard with spectator mode',
      'docs.feature_9': 'Multi-language support (FR / EN)',
      'docs.game_flow_title': 'Game Flow',
      'docs.flow_setup': 'Setup',
      'docs.flow_create': 'Create & Join',
      'docs.flow_roles': 'Role Assignment',
      'docs.flow_channels': 'Channel Creation',
      'docs.flow_night': 'Night Phase',
      'docs.flow_day': 'Day Phase',
      'docs.flow_victory': 'Victory',
      'docs.flow_details': 'Detailed Flow',
      'docs.flow_d1': 'An admin runs /setup to configure the bot for the server',
      'docs.flow_d2': 'A player uses /create. Others join with /join (minimum 4 players)',
      'docs.flow_d3': 'The host uses /start â€” roles are secretly assigned via DM',
      'docs.flow_d4': 'Private channels are created for wolves, seer, witch, etc.',
      'docs.flow_d5': 'Night phase: special roles act in order (Thief â†’ Cupid â†’ Guardian â†’ Wolves â†’ White Wolf â†’ Witch â†’ Seer)',
      'docs.flow_d6': 'Day phase: deaths announced, captain vote, deliberation, then village vote',
      'docs.flow_d7': 'The cycle repeats until a victory condition is met',
      'docs.setup_title': 'Initial Setup',
      'docs.setup_steps': 'Setup Steps',
      'docs.setup_1': 'Invite the bot to your server with admin permissions',
      'docs.setup_2': 'Run /setup â€” this launches an interactive wizard',
      'docs.setup_3': 'The wizard creates: a game category, a main text channel, and a voice channel',
      'docs.setup_4': 'Optionally configure rules with /setrules',
      'docs.setup_5': 'Choose a language with /lang fr or /lang en',
      'docs.setup_6': 'Players can now /create games!',
      'docs.village_title': 'Village Roles',
      'docs.wolves_title': 'Wolf Roles',
      'docs.solo_title': 'Solo / Special Roles',
      'docs.distribution_title': 'Role Distribution',
      'docs.dist_rules': 'Distribution Rules',
      'docs.dist_1': 'Minimum 4 players to start a game',
      'docs.dist_2': 'Wolf count: ~â…“ of players (1 for 4-5, 2 for 6-8, 3 for 9-11, 4 for 12+)',
      'docs.dist_3': 'Special roles added in priority: Seer â†’ Witch â†’ Hunter â†’ Cupid â†’ Guardian â†’ Little Girl â†’ Elder â†’ Idiot',
      'docs.dist_4': 'Remaining slots are filled with Villagers',
      'docs.dist_5': 'White Wolf replaces one regular wolf if enabled and 8+ players',
      'docs.dist_6': 'Thief requires 2 extra cards',
      'docs.dist_7': 'Configurable: admins can enable/disable specific roles via /setrules',
      'docs.phases_title': 'Game Phases',
      'docs.night_phase': 'Night Phase',
      'docs.night_desc': 'During the night, the village sleeps (all voice-muted). Special roles act in strict order via their private channels.',
      'docs.day_phase': 'Day Phase',
      'docs.day_desc': 'At dawn, night deaths are announced. The village then debates and votes.',
      'docs.transitions': 'Phase Transitions',
      'docs.night_to_day': 'ðŸŒ… Night â†’ Day',
      'docs.day_to_night': 'ðŸŒ™ Day â†’ Night',
      'docs.night_actions_title': 'Night Actions',
      'docs.day_actions_title': 'Day Actions',
      'docs.afk_warning': 'AFK Warning',
      'docs.afk_text': 'Players who don\'t act within 120 seconds during their night phase will have their action auto-skipped.',
      'docs.captain_info': 'Captain Mechanic',
      'docs.captain_1': 'The captain is elected on the first day via /captainvote',
      'docs.captain_2': 'The captain\'s vote counts double',
      'docs.captain_3': 'If the captain dies, they choose a successor',
      'docs.captain_4': 'In case of a tie, the captain breaks the tie',
      'docs.mechanics_title': 'Special Mechanics',
      'docs.mech_lovers': 'Lovers System',
      'docs.mech_wolf_vote': 'Wolf Consensus Vote',
      'docs.mech_elder': 'Elder Power Drain',
      'docs.mech_voice': 'Voice Channel Management',
      'docs.mech_death': 'Death & Role Reveal',
      'docs.victory_title': 'Victory Conditions',
      'docs.win_village': 'Village Victory',
      'docs.win_village_desc': 'All werewolves have been eliminated. The village celebrates!',
      'docs.win_wolves': 'Wolves Victory',
      'docs.win_wolves_desc': 'Wolves equal or outnumber the remaining villagers.',
      'docs.win_white_wolf': 'White Wolf Victory',
      'docs.win_white_wolf_desc': 'The White Wolf is the absolute last player standing.',
      'docs.win_lovers': 'Lovers Victory',
      'docs.win_lovers_desc': 'The two lovers (from different camps) are the last ones standing. Love conquers all!',
      'docs.win_draw': 'Draw',
      'docs.win_draw_desc': 'No players remain, or the game cannot continue.',
      'docs.cmd_player_title': 'Player Commands',
      'docs.cmd_night_title': 'Night Commands',
      'docs.cmd_day_title': 'Day Commands',
      'docs.cmd_admin_title': 'Admin Commands',
      'docs.achievements_title': 'Achievements',
      'docs.elo_title': 'ELO Rating & Tiers',
      'docs.elo_desc': 'Every player starts at 1000 ELO. Winning increases your rating, losing decreases it. Your tier is determined by your ELO range.',
      'docs.rules_title': 'Configurable Rules',
      'docs.timeouts_title': 'Timeouts & Timers',
      'docs.th_players': 'Players',
      'docs.th_wolves': 'Wolves',
      'docs.th_specials': 'Special Roles',
      'docs.th_villagers': 'Villagers',
      'docs.th_role': 'Role',
      'docs.th_command': 'Command',
      'docs.th_action': 'Action',
      'docs.th_timing': 'When',
      'docs.th_description': 'Description',
      'docs.th_permission': 'Permission',
      'docs.th_rule': 'Rule',
      'docs.th_default': 'Default',
      'docs.th_event': 'Event',
      'docs.th_duration': 'Duration',
      'docs.when_n1': 'Night 1 only',
      'docs.when_every': 'Every night',
      'docs.when_odd': 'Odd nights (3, 5, 7...)',

      // Premium Page
      'premium.title': 'Werewolf Premium',
      'premium.subtitle': 'Unlock exclusive features and enhance your Werewolf experience. Coming soon!',
      'premium.feature_themes': 'Custom Themes',
      'premium.feature_themes_desc': 'Access exclusive visual themes and custom embed colors for your server.',
      'premium.feature_roles': 'Exclusive Roles',
      'premium.feature_roles_desc': 'Unlock additional premium roles like the Fox, the Blacksmith, and more.',
      'premium.feature_stats': 'Advanced Stats',
      'premium.feature_stats_desc': 'Detailed analytics, advanced leaderboards and game history graphs.',
      'premium.feature_priority': 'Priority Support',
      'premium.feature_priority_desc': 'Get priority access to help, bug fixes, and feature requests.',
      'premium.feature_sounds': 'Sound Effects',
      'premium.feature_sounds_desc': 'Custom audio cues for phase transitions, deaths, and victories.',
      'premium.feature_badges': 'Premium Badge',
      'premium.feature_badges_desc': 'Show off your premium status with an exclusive profile badge.',
      'premium.coming_soon': 'Coming Soon',
      'premium.coming_soon_desc': 'Premium features are currently under development. Stay tuned!',

      // Support Page
      'support.title': 'ðŸ†˜ Support & Resources',
      'support.subtitle': 'Need help? Find all the resources you need to get started or resolve issues.',
      'support.github_desc': 'View the source code, report bugs, request features, and contribute to the project.',
      'support.github_btn': 'View Repository â†’',
      'support.discord_desc': 'Join our community server for live help, announcements, and discussion.',
      'support.discord_btn': 'Join Server â†’',
      'support.docs_title': 'Documentation',
      'support.docs_desc': 'Complete wiki with all roles, commands, mechanics and configuration options.',
      'support.docs_btn': 'Read the Wiki â†’',
      'support.faq_title': 'Frequently Asked Questions',
      'support.faq_q1': 'How do I invite the bot to my server?',
      'support.faq_a1': 'Use the invite link from the GitHub repository. The bot needs Administrator permissions.',
      'support.faq_q2': 'What is the minimum number of players?',
      'support.faq_a2': 'You need at least 4 players. For the best experience, 8-12 players is recommended.',
      'support.faq_q3': 'How do I change the language?',
      'support.faq_a3': 'Use /lang followed by "fr" for French or "en" for English.',
      'support.faq_q4': 'Can I customize which roles are in the game?',
      'support.faq_a4': 'Yes! Use /setrules to enable or disable specific roles.',
      'support.faq_q5': 'Why are my players not being muted/unmuted?',
      'support.faq_a5': 'Make sure the bot has the "Mute Members" permission and players are in the voice channel.',
      'support.faq_q6': 'The game is stuck, what do I do?',
      'support.faq_a6': 'An admin can use /nextphase or /force-end. Use /clear to clean up channels.',
      'support.faq_q7': 'How does the ELO system work?',
      'support.faq_a7': 'Every player starts at 1000 ELO. Winning increases your rating, losing decreases it. Use /stats to check.',

      // Invite page
      'invite.title': 'Add Werewolf Bot',
      'invite.subtitle': 'The bot is not yet on',
      'invite.card_title': 'Invite Werewolf Bot',
      'invite.card_desc': 'Add the bot to your server to start playing Werewolf with your community. The bot includes slash commands, role management, voice mute, and a full game experience.',
      'invite.feature_game': 'Complete Werewolf game',
      'invite.feature_roles': '12+ unique roles',
      'invite.feature_voice': 'Voice channel management',
      'invite.feature_stats': 'Stats, ELO & achievements',
      'invite.feature_lang': 'French & English support',
      'invite.feature_dashboard': 'Web dashboard included',
      'invite.btn_invite': 'Add to Server',
      'invite.perms_title': 'Required Permissions',
      'invite.perm_commands': 'Slash Commands',
      'invite.perm_commands_desc': 'Register and respond to / commands',
      'invite.perm_messages': 'Send Messages',
      'invite.perm_messages_desc': 'Send game announcements and updates',
      'invite.perm_manage_channels': 'Manage Channels',
      'invite.perm_manage_channels_desc': 'Create and manage game channels',
      'invite.perm_voice': 'Mute Members',
      'invite.perm_voice_desc': 'Manage voice during night phases',
      'invite.perm_embed': 'Embed Links',
      'invite.perm_embed_desc': 'Rich embeds for game interface',
      'invite.perm_dm': 'Direct Messages',
      'invite.perm_dm_desc': 'Send private role assignments',
      'invite.back': 'Back to Dashboard',

      // Monitoring access
      'mon.login_required': 'Log in to see more details',
      'mon.login_desc': 'Detailed metrics are reserved for logged-in members and administrators.',
      'mon.restricted_notice': 'Some advanced metrics are reserved for bot administrators.',
    }
  };

  // Get/set language
  function getLang() {
    return localStorage.getItem('werewolf-lang') || 'fr';
  }

  function setLang(lang) {
    localStorage.setItem('werewolf-lang', lang);
    applyTranslations(lang);
    updateLangButton(lang);
  }

  function t(key) {
    const lang = getLang();
    return (translations[lang] && translations[lang][key]) || (translations.fr[key]) || key;
  }

  // Apply translations to all elements with data-i18n
  function applyTranslations(lang) {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      const val = (translations[lang] && translations[lang][key]) || (translations.fr[key]);
      if (val) el.textContent = val;
    });
    // Also update placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
      const key = el.getAttribute('data-i18n-placeholder');
      const val = (translations[lang] && translations[lang][key]) || (translations.fr[key]);
      if (val) el.placeholder = val;
    });
    // Update title attributes
    document.querySelectorAll('[data-i18n-title]').forEach(el => {
      const key = el.getAttribute('data-i18n-title');
      const val = (translations[lang] && translations[lang][key]) || (translations.fr[key]);
      if (val) el.title = val;
    });
  }

  function updateLangButton(lang) {
    // Support both old standalone button IDs and new dropdown IDs
    const flag = document.getElementById('lang-flag') || document.getElementById('user-menu-lang-flag');
    const label = document.getElementById('lang-label');
    if (flag) flag.textContent = lang === 'fr' ? 'ðŸ‡«ðŸ‡·' : 'ðŸ‡¬ðŸ‡§';
    if (label) label.textContent = lang === 'fr' ? 'FR' : 'EN';
  }

  // Init on DOM ready
  function init() {
    const lang = getLang();
    applyTranslations(lang);
    updateLangButton(lang);

    // Language toggle button (standalone or dropdown)
    document.addEventListener('click', (e) => {
      if (e.target.id === 'lang-toggle' || e.target.closest('#lang-toggle')) {
        const current = getLang();
        setLang(current === 'fr' ? 'en' : 'fr');
      }
    });
  }

  // Export for other scripts
  window.getLang = getLang;
  window.setLang = setLang;
  window.applyTranslations = applyTranslations;
  window.updateLangButton = updateLangButton;
  window.webI18n = { t, getLang, setLang, applyTranslations, updateLangButton };

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
